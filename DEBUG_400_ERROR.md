# –û—Ç–ª–∞–¥–∫–∞ –û—à–∏–±–∫–∏ 400 –æ—Ç CF24Pay API

## üîç –¢–µ–∫—É—â–∞—è –°–∏—Ç—É–∞—Ü–∏—è
- ‚úÖ CORS –ø—Ä–æ–±–ª–µ–º–∞ —Ä–µ—à–µ–Ω–∞
- ‚úÖ –ó–∞–ø—Ä–æ—Å –¥–æ—Ö–æ–¥–∏—Ç –¥–æ CF24Pay API
- ‚ùå –ü–æ–ª—É—á–∞–µ–º –æ—à–∏–±–∫—É 400 (Bad Request)

## üõ†Ô∏è –î–æ–±–∞–≤–ª–µ–Ω–Ω–∞—è –û—Ç–ª–∞–¥–∫–∞

### –í API Route (`/api/pagos`)
```javascript
console.log('=== PAGOS API DEBUG ===');
console.log('Request Params:', JSON.stringify(requestParam, null, 2));
console.log('Sign String:', signString);
console.log('Signature:', signature);
console.log('Final Request:', JSON.stringify(finalRequestParam, null, 2));
console.log('CF24Pay Response Status:', response.status);
console.log('CF24Pay Response Headers:', Object.fromEntries(response.headers.entries()));
```

### –í Frontend
```javascript
console.log('Sending Pagos request:', requestData);
console.error('Pagos API Error Details:', errorData);
```

## üîß –£–ª—É—á—à–µ–Ω–∏—è

1. **–û—á–∏—Å—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö**:
   - –£–¥–∞–ª–µ–Ω–∏–µ —Å–ø–µ—Ü—Å–∏–º–≤–æ–ª–æ–≤ –∏–∑ –∏–º–µ–Ω
   - –ù–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è email (toLowerCase)
   - –¢–æ–ª—å–∫–æ —Ü–∏—Ñ—Ä—ã –≤ —Ç–µ–ª–µ—Ñ–æ–Ω–µ
   - –í–∞–ª–∏–¥–∞—Ü–∏—è —Å—É–º–º—ã

2. **–§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π orderid**:
   - –ò–∑–º–µ–Ω–µ–Ω —Å `Date.now()` –Ω–∞ `ORDER_${Date.now()}`

3. **–£–ª—É—á—à–µ–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫**:
   - –î–µ—Ç–∞–ª—å–Ω—ã–µ –ª–æ–≥–∏ –æ—à–∏–±–æ–∫
   - –í–æ–∑–≤—Ä–∞—Ç —Ç–µ–ª–∞ –æ—à–∏–±–∫–∏ –æ—Ç CF24Pay

## üìã –°–ª–µ–¥—É—é—â–∏–µ –®–∞–≥–∏

1. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –ª–æ–≥–∏ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ Next.js
2. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –¥–µ—Ç–∞–ª–∏ –æ—à–∏–±–∫–∏ –æ—Ç CF24Pay
3. –°—Ä–∞–≤–Ω–∏—Ç—å —Å —Ä–∞–±–æ—á–∏–º PHP –ø—Ä–∏–º–µ—Ä–æ–º
4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤—Å–µ –ø–æ–ª—è –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º API

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞ —Å–¥–µ–ª–∞—Ç—å –ø–ª–∞—Ç–µ–∂ –∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ:
- –õ–æ–≥–∏ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ Next.js
- –î–µ—Ç–∞–ª–∏ –æ—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Å–æ–ª–∏ –±—Ä–∞—É–∑–µ—Ä–∞
- –°—Ä–∞–≤–Ω–∏—Ç–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã —Å PHP –ø—Ä–∏–º–µ—Ä–æ–º